@model IEnumerable<SQMS.Models.ViewModels.VMGalleryItem>

@{
    ViewBag.Title = "Media Content Gallery";
}
<link href="~/Content/themes/base/jquery-ui-V8.0.min.css" rel="stylesheet" />
<div class="container">
    <div class="row">
        <div class="row">
            <h4 class="page-head-line">Gallery > List</h4>
            <input type="hidden" id="txtDirectory" value="@((string)ViewBag.directory)" />

        </div>
        <a asp-controller="Gallery" asp-action="Create" class="btn btn-color" style="margin-bottom: 10px;">Add New</a>

        <div class="row text-center table-bordered table-scroll" style="padding-top: 15px; padding-bottom: 15px; margin-bottom: 15px;">
            @foreach (var item in Model)
            {
                <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                    @if (item.file_type == "VIDEO")
                    {
                        <video class="img-thumbnail" controls>
                            <source type="video/@item.file_extenstion" src="@Url.Content(item.file_full_path)">
                        </video>
                        <div class="col-lg-12" style="margin-bottom: 10px;">
                            @item.file_name

                            <button class="btn btn-color left" title="Delete this content permanently?" onclick="DeleteMedia('@Url.Content(item.file_full_path)')">
                                <span><i class="fa fa-remove"></i></span>
                            </button>
                        </div>
                    }
                    else
                    {
                        <img class="img-thumbnail" src="@Url.Content(item.file_full_path)" alt="@item.file_name">
                        <div class="col-lg-12" style="margin-top: 10px; margin-bottom: 10px;">
                            @item.file_name

                            <button class="btn btn-color left" title="Delete this content permanently?" onclick="DeleteMedia('@Url.Content(item.file_full_path)')">
                                <span><i class="fa fa-remove"></i></span>
                            </button>
                        </div>
                    }
                </div>
            }
        </div>
    </div>
</div>
<div id="dialog-message" title="Information">
    <div id="body">
    </div>
</div>
@section scripts {
    <script src="~/Scripts/modal/modal-V8.0.js"></script>
    <script src="~/Scripts/sqms/gallery.js"></script>
}
